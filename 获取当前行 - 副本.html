<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Index</title>
 </head>

<body>


<table width="100%" border="1" cellpadding="0" cellspacing="0" style="table-layout:fixed">
<tr>
 <td width="75%">asd</td>
 <td width="25%">  <textarea id="content" onclick="getline(n)" style="font-size:12px; color:#F00; width:95%" wrap="off">导入或粘贴入-srt字幕文件</textarea> </td>
</tr>

<tr>
 <td align="center"></td>
 <td></td>
</tr>

<tr>
 <td align="center"> <input type="text" id="StartTime" /><input type="text" id="EndTime" /></td>
 <td><input type="file" id="file1" accept="*" /><script type="text/javascript">
        var file1 = document.getElementById('file1');
        file1.onchange = function () {
            var file = file1.files[0];
            var reader = new FileReader();
            reader.readAsText(file);
            reader.onload = function () {
                document.getElementById('content').innerHTML = reader.result;
            }
        }
</script></td>
</tr>
</table>



<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.1.min.js"></script>
<script type="text/javascript" >
   var t=document.getElementById("content");
   var n;
   t.onclick=function(){
   var v=this.value;
   var cv="";

   if("selectionStart" in t){
     cv=v.substr(0,t.selectionStart);}
     else{
       var oSel=document.selection.createRange();
       oSel.moveStart('character',-t.value.length);
       cv=oSel.text;}

   var c1=cv.split('\n').length-1
   n=c1
   document.getElementById("line1").value=n+1;
   document.getElementById("line2").value=n+5;

   var text=$("#content").val();
   var array=text.split("\n");

   document.getElementById("StartTime").value=(array[n-1]).slice(0,13);
   document.getElementById("EndTime").value=(array[n-1]).slice(16,29);
  }
</script>

<script>
function NextCen(){
var test = document.getElementById("Line2");
alert(test.value);

</script>

<button id="ReStart">∝restart</button>
<button id="bntplay">Play Again</button>
<button id="bntnext">Next--></button>
<input id="line1" type="text"  value="1"/> 
<input id="line2" type="text" value="2"/>

<script>
var value1 = document.getElementById("line1");
var value2 = document.getElementById("line2");
var bntstart0 = document.getElementById("ReStart");
var bntplay1 = document.getElementById("bntplay");
var bntnext2 = document.getElementById("bntnext");
bntplay1.onclick = function(){
}

bntnext2.onclick = function(){
 value1.value=value2.value;
 n2=parseInt(value1.value);
 var text=$("#content").val();
 var array=text.split("\n");

  for (i=1; i<10; i++) { 
    if (isNaN(Number(array[n2+i]))){
       alert(array[n2+i]);
      value2.value=n2+i+2;
      break;
    }
  }
}

bntstart0.onclick = function(){
value1.value=3;
value2.value=7;
}
</script>


</body>
</html>